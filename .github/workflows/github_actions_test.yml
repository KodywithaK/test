name: Publish GitHub Actions Artifacts test

on:
  push:
    branches: [main]
    # paths:
    #   - 'FINAL/pakchunk0-Switch_P/Holiday/Content/NonAssets/ETP/**'

jobs:
  archive-build-artifacts:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout dqx_dat_dump
        uses: actions/checkout@v4
        with:
          path: ./dqx_dat_dump
          repository: KodywithaK/dqx_dat_dump
          ref: main

      # - name: Checkout dqx-offline-localization
      #   uses: actions/checkout@v4
      #   with:
      #     path: ./dqx-offline-localization
      #     repository: KodywithaK/dqx-offline-localization
      #     ref: testing
      #     sparse-checkout: |
      #       FINAL/pakchunk0-Switch_P/Holiday/Content/NonAssets/ETP/
      #     # sparse-checkout-cone-mode: false
      #     # FINAL/pakchunk0-Switch_P/Holiday/Content/NonAssets/ETP/eventTextCsA11Client.win32.json
      
      - name: Install Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      - name: Run Python
        run: |
          cd ./dqx_dat_dump
          python -m venv venv
          ls -l | xargs realpath
        # run: |
        #   cd ./dqx_dat_dump
        #   python -m venv venv
        #   ./venv/Scripts/activate
        #   pip install -r requirements.txt
        #   cd ./tools/packing/
        #   python ./pack_etp_GitHubActions.py -a
        #   deactivate
        #   cd ../../
        # run: python -c 'import os, sys; print(sys.version); path = "."; dirs = os.listdir(path)'

      # - name: Add downloads & list.txt
      #   # run: |
      #     # ls -R
      #   run: |
      #     mkdir downloads
      #     printf '%s\n' * > downloads/list.txt
      #     cd downloads
      #     echo '1' > 1.txt
      #     echo '2' > 2.txt
      #     cd ..

      # - name: Get Current Time
      #   run: |
      #     echo "time=$(date +'%Y_%m_%d')" >> $GITHUB_ENV

      # - name: Upload Artifact GitHub Action
      #   uses: actions/upload-artifact@main
      #   with:
      #     name: assets_${{ env.time }}
      #     path: |
      #       downloads
      #       .\dqx_dat_dump\tools\packing\new_etp
      #     retention-days: 3
